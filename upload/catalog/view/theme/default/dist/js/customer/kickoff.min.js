!function(){function HeaderController($http,$timeout){function showMobileMenu(){var topLinks=angular.element(document.getElementById("top-links"));topLinks.hasClass("displayed")?(topLinks.css("top","-200px"),topLinks.removeClass("displayed")):(topLinks.addClass("displayed"),topLinks.css("top","0px"))}function displayLogin(close){var close=close||!1;close?angular.element(document.getElementById("login-modal")).css("opacity","0").removeClass("display"):angular.element(document.getElementById("login-modal")).addClass("display").css("opacity","1")}var vm=this;vm.showMobileMenu=showMobileMenu,vm.displayLogin=displayLogin}angular.module("instag-app").controller("HeaderController",HeaderController),HeaderController.$inject=["$http","$timeout"]}(),function(){function LoadController($scope){function loadFn(){angular.element(document.getElementById("loader")).css("display","none");var scrollContainer=angular.element(window);scrollContainer.works,scrollContainer.plan,scrollContainer.grow,scrollContainer.measure,scrollContainer.devices=!1,window.innerWidth>760?offset=300:offset=0,scrollContainer.bind("scroll",function(){angular.element(document.getElementById("content")).hasClass("no-fixed")||(scrollContainer.scrollTop()>60&&!angular.element(document.getElementById("header")).hasClass("fixed")?angular.element(document.getElementById("header")).addClass("fixed"):0==scrollContainer.scrollTop()&&angular.element(document.getElementById("header")).removeClass("fixed"),angular.element(document.getElementById("header")).parent().hasClass("common-home")&&(scrollContainer.innerHeight()-offset>document.getElementById("plan-col").getBoundingClientRect().top&&!scrollContainer.works&&(scrollContainer.works=!0,vm.showCols()),scrollContainer.innerHeight()-offset>document.getElementById("plan-tabs").getBoundingClientRect().top&&!scrollContainer.plan&&(scrollContainer.plan=!0,showTab("users")),scrollContainer.innerHeight()-offset>document.getElementById("grow-tabs").getBoundingClientRect().top&&!scrollContainer.grow&&(scrollContainer.grow=!0,showTab("follow")),scrollContainer.innerHeight()-offset>document.getElementById("measure").getBoundingClientRect().top&&!scrollContainer.measure&&(scrollContainer.measure=!0,showTab("measure")),scrollContainer.innerHeight()-offset>document.getElementById("devices").getBoundingClientRect().top&&!scrollContainer.devices&&(scrollContainer.devices=!0,showTab("devices"))))})}function showCols(){var i=(angular.element(document.getElementById("home-how-works")).find(".container .col-item"),0);setInterval(function(){if(i<=3){var colContainer=angular.element(document.getElementById("home-how-works")).find(".container .col-item");colContainer.eq(i).removeClass("appear-top").css("top","0"),i++}},200)}function showTab(id){var tabContainer=angular.element(document.getElementById(id)).find("img");"measure"==id?tabContainer.removeClass("appear-top").css("bottom","0px"):"devices"==id?tabContainer.removeClass("appear-right").css("transform","translateX(50%)"):tabContainer.removeClass("appear-top").css("bottom","-30px")}var vm=this;vm.loadFn=loadFn,vm.showCols=showCols,vm.showTab=showTab,$scope.load=vm.loadFn()}angular.module("instag-app").controller("LoadController",LoadController),LoadController.$inject=["$scope"]}(),function(){function LoginController($http,$timeout){function closeLogin($event){angular.element(document.getElementById("login-modal")).css("opacity","0").removeClass("display")}function login(){var email=angular.element(document.getElementById("login-email")).val(),password=angular.element(document.getElementById("login-password")).val();angular.element(document.getElementById("login-form-container")).find("button").addClass("loading-button").attr("disabled",!0);var post_data={email:email,password:password};$http.post("index.php?route=customer/login/json",post_data).success(function(data){data.success?window.location.href=data.redirect:(angular.element(document.getElementById("login-error")).attr("data-tooltip",data.error_warning),$timeout(function(){angular.element(document.getElementById("login-error")).trigger("click")}),angular.element(document.getElementById("login-form-container")).find("button").removeClass("loading-button").removeAttr("disabled"))})}var vm=this;vm.closeLogin=closeLogin,vm.login=login}angular.module("instag-app").controller("LoginController",LoginController),LoginController.$inject=["$http","$timeout"]}(),function(){angular.module("instag-app").controller("AccountsController",["$http","$compile","$scope","$window","$timeout",function($http,$compile,$scope,$window,$timeout){function closeLeftSidebar(){angular.element(document.getElementById("left-sidebar")).removeClass("open-sidebar"),window.innerWidth<=1200&&angular.element(document.getElementById("close-sidebar")).removeClass("opened-close-sidebar")}function mobileResponsive(width){if(width<730){var content=angular.element(document.getElementById("content"));angular.element(document.getElementById("right-sidebar"));if(content.attr("data-kickoff")){if(0==content.find("#start-account").length){var tabContent=angular.element(document.getElementById("tab-body-sidebar")).html();content.find(".middle-tab").prepend($compile(tabContent)($scope)),content.find("#start-account").removeClass("current-account"),angular.element(document.getElementById("tab-body-sidebar")).empty()}responsiveStatus=!1,$timeout(function(){var content=angular.element(document.getElementById("content")),currentTab=content.find(".tab-header .current-tab").attr("data-tab");"kickoff"==currentTab&&content.find(".dropdown-menu .start-account").trigger("click")},0)}else{if(0==content.find("#account").length){var tabContent=angular.element(document.getElementById("tab-body-sidebar")).html();content.find(".middle-tab").prepend($compile(tabContent)($scope))}$timeout(function(){var content=angular.element(document.getElementById("content")),currentTab=content.find(".tab-header .current-tab").attr("data-tab");"dashboard"!=currentTab||responsiveStatus||(responsiveStatus=!0,content.find(".dropdown-menu .account").trigger("click"))},0)}}else if(width>730){var content=angular.element(document.getElementById("content"));content.attr("data-kickoff")?$timeout(function(){var content=angular.element(document.getElementById("content")),currentTab=content.find(".tab-header .current-tab").attr("data-tab");"start-account"!=currentTab&&void 0!=currentTab?content.find(".dropdown-menu ."+currentTab).trigger("click"):content.find(".dropdown-menu .kickoff").trigger("click");var startAccountTab=content.find("#start-account");startAccountTab.addClass("current-tab");var sidebarTabBody=angular.element(document.getElementById("tab-body-sidebar"));sidebarTabBody.append(startAccountTab)},0):$timeout(function(){var content=angular.element(document.getElementById("content")),currentTab=content.find(".tab-header .current-tab").attr("data-tab");"account"!=currentTab&&"activity"!=currentTab&&"followback"!=currentTab&&void 0!=currentTab?content.find(".dropdown-menu ."+currentTab).trigger("click"):content.find(".dropdown-menu .dashboard").trigger("click");var rightSidebar=angular.element(document.getElementById("right-sidebar"));rightSidebar.append(content.find("#account")),rightSidebar.append(content.find("#activity")),rightSidebar.append(content.find("#followback"))},0)}}function responsive(width){if(width<1200){angular.element(document.getElementById("logo-u-container")).find(".account-item").remove();var currentAccount=angular.element(document.getElementById("left-sidebar")).find(".current-account").clone();currentAccount.removeAttr("ng-click"),currentAccount.find(".account-square-status").removeAttr("ng-click"),angular.element(document.getElementById("logo-u-container")).append(currentAccount),currentAccount.find(".account-img img").length<1?(angular.element(document.getElementById("logo-u")).addClass("displayed"),angular.element(document.getElementById("logo-u-container")).find(".account-status").remove()):angular.element(document.getElementById("logo-u")).removeClass("displayed"),closeLeftSidebar(),$timeout(function(){var content=angular.element(document.getElementById("content")),currentTab=content.find(".tab-header .current-tab").attr("data-tab");content.find(".dropdown-menu ."+currentTab).trigger("click")},0),mobileResponsive(width)}else angular.element(document.getElementById("logo-u-container")).find(".account-item").remove(),mobileResponsive(width)}function carouselHeight(){for(var items=angular.element(document.getElementById("kickoff-carousel")).find(".item"),maxHeight=0,i=0;i<=items.length;i++)items.eq(i).innerHeight("auto"),items.eq(i).innerHeight()>maxHeight&&(maxHeight=items.eq(i).innerHeight());items.innerHeight(maxHeight),angular.element(document.getElementById("kickoff-carousel")).innerHeight(maxHeight+10)}this.addAccountModal=function(close){var close=close||!1;angular.element(document.getElementById("modal-add-instagram")).addClass("displayed"),closeLeftSidebar(),close&&angular.element(document.getElementById("modal-add-instagram")).removeClass("displayed")},this.addAccount=function(){var username=angular.element(document.getElementById("add-account-username")).val();if(""==username)$timeout(function(){angular.element(document.getElementById("username-empty")).trigger("click")},0);else{var password=angular.element(document.getElementById("add-account-password")).val();if(""==password)$timeout(function(){angular.element(document.getElementById("password-empty")).trigger("click")},0);else{this.triggerHideTooltip();var clickedElement=angular.element(document.getElementById("button-add-instagram"));clickedElement.addClass("loading-button").attr("disabled","true");var post_data={username:username,password:password,redirect:1};$http.post("index.php?route=account/instagram/insert",post_data).success(function(data){data.redirect&&(window.location=data.redirect),data.success||$timeout(function(){angular.element(document.getElementById("add-instagram-next")).trigger("click")},0),clickedElement.removeClass("loading-button").removeAttr("disabled")})}}},this.retryAddAccount=function(){var username=angular.element(document.getElementById("add-account-username")).val();if(""==username)$timeout(function(){angular.element(document.getElementById("username-empty")).trigger("click")},0);else{var password=angular.element(document.getElementById("add-account-password")).val();if(""==password)$timeout(function(){angular.element(document.getElementById("password-empty")).trigger("click")},0);else{this.triggerHideTooltip();var clickedElement=angular.element(document.getElementById("retry-add-account"));clickedElement.addClass("loading-button").attr("disabled","true");var post_data={username:username,password:password,redirect:1};$http.post("index.php?route=account/instagram/insert",post_data).success(function(data){data.redirect&&(window.location=data.redirect),data.success||(angular.element(document.getElementById("kickoff-error-modal")).addClass("displayed"),clickedElement.removeClass("loading-button").removeAttr("disabled"))})}}},this.videoModal=function(close){var close=close||!1;angular.element(document.getElementById("video-modal")).addClass("displayed"),closeLeftSidebar(),close&&angular.element(document.getElementById("video-modal")).removeClass("displayed")},this.helpModal=function($event){var videoContainer=angular.element(document.getElementById("help-video"));this.videoModal(),$timeout(function(){videoContainer.parent().find("#help-video-button").trigger("click")},0)},this.showChat=function(){$zopim.livechat.window.show()},this.openMenu=function(){var dropdown=angular.element(document.getElementById("tab-dropdown-middle"));dropdown.find("ul").hasClass("displayed")?(dropdown.find("ul").removeClass("displayed"),dropdown.find("ul").addClass("hide")):(dropdown.find("ul").addClass("displayed"),dropdown.find("ul").removeClass("hide"))},this.closeMenu=function(){var dropdown=angular.element(document.getElementById("tab-dropdown-middle"));dropdown.find("ul").removeClass("displayed"),dropdown.find("ul").addClass("hide")},this.openLeftSidebar=function(notmobile){var notmobile=notmobile||!1;notmobile&&window.innerWidth<=1570&&window.innerWidth>1200?window.innerWidth<=1570&&angular.element(document.getElementById("left-sidebar")).addClass("open-sidebar"):!notmobile&&window.innerWidth<=1200&&(angular.element(document.getElementById("left-sidebar")).addClass("open-sidebar"),angular.element(document.getElementById("close-sidebar")).addClass("opened-close-sidebar"))},this.closeLeftSidebar=function(notmobile){var notmobile=notmobile||!1;notmobile&&window.innerWidth<=1570&&window.innerWidth>1200?closeLeftSidebar():notmobile||closeLeftSidebar()},this.logoHover=function(){window.innerWidth<=1570&&window.innerWidth>730&&angular.element(document.getElementById("logo")).addClass("hover")},this.removeLogoHover=function(){window.innerWidth<=1570&&angular.element(document.getElementById("logo")).removeClass("hover")};var responsiveStatus=!1;this.displayTooltip=function($event){var tooltipContainer=angular.element(document.getElementById("tooltip-container"));if(this.triggerHideTooltip(),!tooltipContainer.hasClass("display-tooltip")){tooltipContainer.addClass("display-tooltip");var element=angular.element($event.currentTarget),selectedHtmlObj=$event.currentTarget,position=element.attr("data-tooltip-position"),styles=element.attr("data-tooltip-style"),offset=element.attr("data-tooltip-offset")||0,fire=element.attr("data-hide-fire")||"mouseover";switch(position){case"top":var offsetY=selectedHtmlObj.getBoundingClientRect().top-10+"px",offsetX=selectedHtmlObj.getBoundingClientRect().left+selectedHtmlObj.offsetWidth/2+"px";tooltipContainer.css({top:offsetY,left:offsetX,transform:"translateY(-100%)"});break;case"right":var offsetY=selectedHtmlObj.getBoundingClientRect().top+selectedHtmlObj.offsetHeight/2+"px",offsetX=selectedHtmlObj.getBoundingClientRect().right+25+"px";tooltipContainer.css({top:offsetY,left:offsetX,transform:"translatex(0)"});break;case"bottom":var offsetY=selectedHtmlObj.getBoundingClientRect().bottom-10+"px",offsetX=selectedHtmlObj.getBoundingClientRect().left+selectedHtmlObj.offsetWidth/2+"px";tooltipContainer.css({top:offsetY,left:offsetX,transform:"translateY(50%)"});break;case"left":var offsetY=selectedHtmlObj.getBoundingClientRect().top+selectedHtmlObj.offsetHeight/2+"px",offsetX=selectedHtmlObj.getBoundingClientRect().left-10-offset+"px";tooltipContainer.css({top:offsetY,left:offsetX,transform:"translateX(-75%)"})}tooltipContainer.css("display","block");var tooltip=angular.element(document.getElementById("tooltip"));tooltip.html(element.attr("data-tooltip")),tooltip.hasClass(position)||tooltip.removeClass("top right bottom left").addClass(position),tooltip.styles||tooltip.removeClass("light dark").addClass(styles),tooltip.attr("data-hide-fire",fire),setTimeout(function(){tooltip.css({opacity:"1",margin:"0px"})},10)}},this.hideTooltip=function($event){var tooltipContainer=angular.element(document.getElementById("tooltip-container")),tooltip=angular.element(document.getElementById("tooltip"));$event.type&&tooltip.attr("data-hide-fire")==$event.type&&(tooltip.removeAttr("style"),tooltip.removeClass("top right bottom left dark light"),tooltip.html(""),tooltipContainer.removeAttr("style"),tooltipContainer.removeAttr("data-hide-fire"),tooltipContainer.removeClass("display-tooltip"))},this.triggerHideTooltip=function(){var tooltip=angular.element(document.getElementById("tooltip"));if(tooltip.parent().hasClass("display-tooltip")){var tooltipAttr=tooltip.attr("data-hide-fire"),emulatedEvent={type:tooltipAttr};this.hideTooltip(emulatedEvent)}},this.closeModal=function($event){var $event=$event||!1;if($event){var clickedElement=angular.element($event.currentTarget);angular.element($event.target).hasClass("modal")&&(clickedElement.removeClass("displayed"),"video-modal"==$event.target.id&&$timeout(function(){angular.element(document.getElementById("stop-video")).trigger("click")}),this.triggerHideTooltip())}else angular.element(document).find(".modal.displayed").removeClass("displayed")},this.displayWarning=function(container){angular.element(document.getElementById(container)).addClass("displayed")},this.cancelAction=function(container){angular.element(document.getElementById(container)).removeClass("displayed")},this.closeDialog=function($event){var clickedElement=angular.element($event.currentTarget);clickedElement.removeClass("displayed")},window.addEventListener("resize",function($scope){responsive(window.innerWidth),carouselHeight()}),$scope.load=function(){responsive(window.innerWidth),carouselHeight(),angular.element(document.getElementById("loader")).css("display","none")}}]),jQuery.fn.center=function(relative){var relative=relative||this.parent();return this.css("position","absolute"),this.css("top",Math.max(0,($(relative).outerHeight()-$(this).outerHeight())/2+$(relative).scrollTop())+"px"),this.css("left",Math.max(0,($(relative).width()-$(this).width())/2+$(relative).scrollLeft())+"px"),this}}();